


# compilation of libUSB
if(APPLE)
  find_library(quicktimeFramework 
               NAME QuickTime)
  find_library(iokitFramework 
               NAME IOKit)
  find_library(carbonFramework 
               NAME Carbon)
  find_library(cocoaFramework 
               NAME Cocoa)
  find_library(systemFramework 
               NAME System)
  find_library(webkitFramework 
               NAME Webkit)
  find_library(audioToolboxFramework 
               NAME AudioToolbox)
  find_library(openGLFramework 
               NAME OpenGL)

  find_program(wxWidgets_CONFIG_EXECUTABLE NAMES "wx-config" PATHS /Users/raffi/Code/EI/usr/local/bin NO_DEFAULT_PATH)
  if(NOT wxWidgets_CONFIG_EXECUTABLE)
    message(FATAL_ERROR "Cannot find wxWidgets_CONFIG_EXECUTABLE: ${wxWidgets_CONFIG_EXECUTABLE}")
  endif()
  
  #set(wxWidgets_CONFIG_OPTIONS --prefix=/Users/raffi/Code/EI/usr/local)
  
  find_package(wxWidgets)
  if(NOT wxWidgets_FOUND)
    message(FATAL_ERROR "WxWidget cannot be found. Please use wx-config prefix")
  endif()
  
  
  # cfitsio
  if(NOT EXISTS ${CMAKE_SOURCE_DIR}/thirdparties/cfitsio)
    # untar the dependency
    execute_process(${CMAKE_COMMAND} -E tar xzf ${CMAKE_SOURCE_DIR}/thirdparties/cfitsio3370.tar)
  endif()
  
  set(BUILD_SHARED_LIBS OFF)
  set(USE_PTHREADS ON)
  add_subdirectory(${CMAKE_SOURCE_DIR}/thirdparties/cfitsio)
  
  if(WIN32)
    set(cfitsio_LIB_NAME cfitsio)
  else()
    set(cfitsio_LIB_NAME libcfitsio)
  endif()
  
  include_directories(${CMAKE_SOURCE_DIR}/thirdparties/cfitsio)
  
  

endif()


